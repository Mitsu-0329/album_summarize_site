<div class="container">
  <div class="row no-gutters">
    <div class="col-md-10 col-sm-10 mx-2 mx-sm-auto shadow-lg rounded px-0 my-5">
      <h3 class="text-dark bg-light p-4 mb-0">Photo Album</h3>
      <h3>ジャンル：<%= @genre.genre_name %></h3><span><%= link_to "Back" ,photo_albums_show_path, class:"btn btn-sm btn-success" %></span>
      <div class="swiper">
        <div class="swiper-wrapper">
    
          <% @posts.each do |post| %>
            <div class="swiper-slide">
              <% if post.post_image.attached? %>
                <%= image_tag post.post_image, size: "700x500", class: "d-block mx-auto" %>
              <% end %>
            </div>
          <% end %>
        
        </div>
        <!-- ページネーションの要素 -->
        <div class="swiper-pagination"></div>
        <!-- ナビゲーションボタン （前、次） -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </div>
  </div>
</div>

<script>
console.log("hello")
const swiper = new Swiper('.swiper', {
  autoplay: {
    delay: 5000,
  },

  //オプションの設定
  loop: true, //最後までスライドしたら最初の画像に戻る
 
  //ページネーション表示の設定
  pagination: { 
    el: '.swiper-pagination', //ページネーションの要素
  },
 
  //ナビゲーションボタン（矢印）表示の設定
  navigation: { 
    nextEl: '.swiper-button-next', //「次へボタン」要素の指定
    prevEl: '.swiper-button-prev', //「前へボタン」要素の指定
  }
});


// Swiperのオプションを定数化
const opt = {
  loop: true, 
  pagination: { 
    el: '.swiper-pagination', 
  },
  navigation: { 
    nextEl: '.swiper-button-next',
    prevEl: '.swiper-button-prev',
  }
}

// Swiperを実行(初期化)
$(document).on('turbolinks:load', function() {
    let swiper = new Swiper('.swiper',opt);
});
</script>